# ğŸ™ï¸ ãƒœã‚¤ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ & å£°ç´‹åˆ†æã‚·ã‚¹ãƒ†ãƒ 

10ç§’åˆ¶é™ã®ãƒœã‚¤ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ã§éŒ²éŸ³ã—ãŸéŸ³å£°ã®å£°ç´‹åˆ†æã‚’è¡Œã†Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢è¡¨ç¤ºã€é«˜åº¦ãªéŸ³å£°ç‰¹å¾´é‡è§£æã€ç›´æ„Ÿçš„ãªUIã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
- [è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †](#è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †)
- [å®Ÿè¡Œæ–¹æ³•](#å®Ÿè¡Œæ–¹æ³•)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [æŠ€è¡“ä»•æ§˜](#æŠ€è¡“ä»•æ§˜)
- [ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ](#ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ)
- [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
- [é–‹ç™ºè€…å‘ã‘æƒ…å ±](#é–‹ç™ºè€…å‘ã‘æƒ…å ±)

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### ğŸ“¹ éŸ³å£°éŒ²éŸ³æ©Ÿèƒ½
- **ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹éŒ²éŸ³**: MediaRecorder APIã‚’ä½¿ç”¨ã—ãŸæœ€å¤§10ç§’é–“ã®é«˜å“è³ªéŸ³å£°éŒ²éŸ³
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢è¡¨ç¤º**: éŒ²éŸ³ä¸­ã®éŸ³å£°æ³¢å½¢ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å¯è¦–åŒ–
- **è‡ªå‹•éŒ²éŸ³åœæ­¢**: 10ç§’çµŒéæ™‚ã®è‡ªå‹•åœæ­¢æ©Ÿèƒ½
- **éŒ²éŸ³çŠ¶æ…‹è¡¨ç¤º**: è¦–è¦šçš„ãªéŒ²éŸ³çŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼

### ğŸ”Š éŸ³å£°å†ç”Ÿãƒ»ç®¡ç†
- **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ãƒˆå†ç”Ÿ**: éŒ²éŸ³ç›´å¾Œã®å³åº§ãªéŸ³å£°å†ç”Ÿ
- **éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**: WAVãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã®ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜
- **éŸ³å£°å“è³ªç¢ºèª**: å†ç”Ÿå‰ã®éŸ³å£°å“è³ªãƒã‚§ãƒƒã‚¯

### ğŸ”¬ é«˜åº¦ãªå£°ç´‹åˆ†æ
- **ãƒ¡ãƒ«ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ **: äººé–“ã®è´è¦šã«è¿‘ã„å‘¨æ³¢æ•°è§£æ
- **STFTã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ **: çŸ­æ™‚é–“ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ã«ã‚ˆã‚‹è©³ç´°ãªæ™‚é–“-å‘¨æ³¢æ•°è§£æ
- **åŸºæœ¬å‘¨æ³¢æ•° (F0) æ¨å®š**: éŸ³ã®é«˜ã•å¤‰åŒ–ã®è©³ç´°ãªè¿½è·¡
- **éŸ³å£°æ³¢å½¢è¡¨ç¤º**: æ™‚é–“é ˜åŸŸã§ã®éŸ³å£°ä¿¡å·è¡¨ç¤º
- **MFCCè§£æ**: ãƒ¡ãƒ«å‘¨æ³¢æ•°ã‚±ãƒ—ã‚¹ãƒˆãƒ©ãƒ ä¿‚æ•°ã«ã‚ˆã‚‹ç‰¹å¾´é‡æŠ½å‡º
- **ã‚¹ãƒšã‚¯ãƒˆãƒ«é‡å¿ƒ**: å‘¨æ³¢æ•°åˆ†å¸ƒã®é‡å¿ƒè¨ˆç®—
- **ã‚¼ãƒ­ã‚¯ãƒ­ãƒƒã‚·ãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆ**: éŸ³å£°ã®å‹•çš„ç‰¹æ€§è§£æ
- **ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ«ãƒ­ãƒ¼ãƒ«ã‚ªãƒ•**: é«˜å‘¨æ³¢æˆåˆ†ã®åˆ†æ

### ğŸ¨ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º**: åˆ†æå‡¦ç†ä¸­ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- **ã‚¨ãƒ©ãƒ¼è¡¨ç¤º**: è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹
- **ç§˜å¯†ã®ç®¡ç†ç”»é¢**: &ãƒãƒ¼ã‚¯ã‚’ãƒˆãƒªãƒ—ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªé«˜åº¦ãªè¨­å®šç”»é¢

## âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ğŸ“‹ å‰ææ¡ä»¶
- **Python**: 3.8ä»¥ä¸Šï¼ˆ3.9ä»¥ä¸Šæ¨å¥¨ï¼‰
- **ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ‡ãƒã‚¤ã‚¹**: ãƒã‚¤ã‚¯ä»˜ããƒ‡ãƒã‚¤ã‚¹
- **ãƒ–ãƒ©ã‚¦ã‚¶**: Chrome 88+, Firefox 85+, Safari 14+, Edge 88+
- **ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ¢ãƒª**: 2GBä»¥ä¸Šã®ç©ºããƒ¡ãƒ¢ãƒª
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: 500MBä»¥ä¸Šã®ç©ºãå®¹é‡

### ğŸš€ 30ç§’ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip3 install -r requirements.txt

# 2. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
python3 app.py

# 3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
# http://localhost:8080 ã‚’é–‹ã
```

## ğŸ”§ è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### Step 1: Pythonç’°å¢ƒã®ç¢ºèªã¨æº–å‚™

```bash
# Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªï¼ˆ3.8ä»¥ä¸ŠãŒå¿…è¦ï¼‰
python3 --version

# pip ã®ç¢ºèªã¨ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
pip3 --version
pip3 install --upgrade pip

# ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ç¢ºèªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
python3 -c "import sys; print(f'Python: {sys.version}'); import platform; print(f'OS: {platform.system()} {platform.release()}')"
```

#### âš ï¸ Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯çµæœ
- âœ… **Python 3.8-3.11**: å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- âš ï¸ **Python 3.12+**: ä¸€éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§äº’æ›æ€§å•é¡Œã®å¯èƒ½æ€§
- âŒ **Python 3.7ä»¥ä¸‹**: ã‚µãƒãƒ¼ãƒˆå¯¾è±¡å¤–

### Step 2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å–å¾—ã¨é…ç½®

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd voice_analysis

# ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆç¢ºèª
ls -la
# ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª:
# app.py, app_production.py, voice_recorder.html, requirements.txt
```

### Step 3: ä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆå¼·ãæ¨å¥¨ï¼‰

```bash
# ä»®æƒ³ç’°å¢ƒä½œæˆ
python3 -m venv venv

# ä»®æƒ³ç’°å¢ƒã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
# macOS/Linux:
source venv/bin/activate

# Windows (PowerShell):
venv\Scripts\Activate.ps1

# Windows (Command Prompt):
venv\Scripts\activate.bat

# ä»®æƒ³ç’°å¢ƒãŒæœ‰åŠ¹ã‹ç¢ºèª
which python  # macOS/Linux
where python  # Windows
```

### Step 4: ä¾å­˜é–¢ä¿‚ã®è©³ç´°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# requirements.txtã‹ã‚‰ã®ä¸€æ‹¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰
pip install -r requirements.txt

# ã¾ãŸã¯å€‹åˆ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆä¾å­˜é–¢ä¿‚ã®è©³ç´°ç†è§£ç”¨ï¼‰
pip install Flask==2.3.3        # Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
pip install librosa==0.10.1      # éŸ³å£°è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒª
pip install matplotlib==3.7.2    # ã‚°ãƒ©ãƒ•æç”»
pip install numpy==1.24.3        # æ•°å€¤è¨ˆç®—
pip install scipy==1.11.2        # ç§‘å­¦è¨ˆç®—

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
pip list | grep -E "(Flask|librosa|matplotlib|numpy|scipy)"
```

#### ğŸ“¦ ä¾å­˜é–¢ä¿‚ã®è©³ç´°èª¬æ˜
- **Flask**: HTTPã‚µãƒ¼ãƒãƒ¼ã¨APIæä¾›
- **librosa**: éŸ³å£°ä¿¡å·å‡¦ç†ã¨ç‰¹å¾´é‡æŠ½å‡º
- **matplotlib**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ç”»åƒç”Ÿæˆ
- **numpy**: æ•°å€¤è¨ˆç®—ã¨ãƒ‡ãƒ¼ã‚¿å‡¦ç†
- **scipy**: ä¿¡å·å‡¦ç†ã¨ç§‘å­¦è¨ˆç®—

### Step 5: ç’°å¢ƒãƒ†ã‚¹ãƒˆã¨å‹•ä½œç¢ºèª

```bash
# Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ
python3 -c "
import flask; print(f'âœ… Flask: {flask.__version__}')
import librosa; print(f'âœ… librosa: {librosa.__version__}')
import matplotlib; print(f'âœ… matplotlib: {matplotlib.__version__}')
import numpy; print(f'âœ… numpy: {numpy.__version__}')
import scipy; print(f'âœ… scipy: {scipy.__version__}')
print('ğŸ‰ All dependencies loaded successfully!')
"
```

## ğŸ”„ å®Ÿè¡Œæ–¹æ³•

### ğŸŒŸ é–‹ç™ºç’°å¢ƒã§ã®å®Ÿè¡Œ

```bash
# é–‹ç™ºç”¨ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆè©³ç´°ãƒ‡ãƒãƒƒã‚°æƒ…å ±ä»˜ãï¼‰
python3 app.py

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# Voice Analysis Server Starting...
# ğŸ™ï¸ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:8080
# ğŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹: http://192.168.x.x:8080
# ğŸ“Š Debug mode: ON
# ğŸ”„ Auto-reload: ON
```

### ğŸ­ æœ¬ç•ªç’°å¢ƒã§ã®å®Ÿè¡Œ

```bash
# æœ¬ç•ªç”¨ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆæœ€é©åŒ–æ¸ˆã¿ï¼‰
python3 app_production.py

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# Voice Analysis Production Server Starting...
# ğŸ™ï¸ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:8080
# ğŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹: http://192.168.x.x:8080
# ğŸ“Š Debug mode: OFF
# ğŸ”’ Production optimizations: ON
```

### âš™ï¸ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒˆæŒ‡å®š

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•å‰ã«ãƒãƒ¼ãƒˆç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
export PORT=8081  # macOS/Linux
set PORT=8081     # Windows

python3 app.py
```

### ğŸ”§ é«˜åº¦ãªèµ·å‹•ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œ
nohup python3 app.py > server.log 2>&1 &

# ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux | grep python

# ã‚µãƒ¼ãƒãƒ¼åœæ­¢
pkill -f "python3 app.py"
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ğŸ‘† åŸºæœ¬æ“ä½œæ‰‹é †

1. **ğŸ“± ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹**: http://localhost:8080 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. **ğŸ¤ ãƒã‚¤ã‚¯è¨±å¯**: ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã€Œè¨±å¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. **â–¶ï¸ éŒ²éŸ³é–‹å§‹**: ã€ŒéŒ²éŸ³é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. **â¹ï¸ éŒ²éŸ³å®Œäº†**: 10ç§’çµŒéã§è‡ªå‹•åœæ­¢ã€ã¾ãŸã¯æ‰‹å‹•ã§ã€Œåœæ­¢ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
5. **ğŸ” éŸ³å£°åˆ†æ**: ã€Œå£°ç´‹åˆ†æã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°è§£æã‚’å®Ÿè¡Œ
6. **ğŸ“Š çµæœç¢ºèª**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã¨æ•°å€¤ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
7. **ğŸ’¾ ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜**: å¿…è¦ã«å¿œã˜ã¦éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

### ğŸ›ï¸ é«˜åº¦ãªæ©Ÿèƒ½

#### ç§˜å¯†ã®ç®¡ç†ç”»é¢
1. ãƒ¡ã‚¤ãƒ³ç”»é¢ã®ã€Œ&ã€è¨˜å·ã‚’ç´ æ—©ã3å›ã‚¯ãƒªãƒƒã‚¯
2. ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨:
   - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç›£è¦–
   - ãƒ­ã‚°è¡¨ç¤º
   - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢è¡¨ç¤º
- éŒ²éŸ³ä¸­ã«éŸ³å£°ã®æ³¢å½¢ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡¨ç¤º
- éŸ³é‡ãƒ¬ãƒ™ãƒ«ã¨æ³¢å½¢ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦–è¦šçš„ã«ç¢ºèª
- ç„¡éŸ³çŠ¶æ…‹ã‚„éŸ³å£°å“è³ªã®å³åº§ãªåˆ¤æ–­ãŒå¯èƒ½

## ğŸ”¬ æŠ€è¡“ä»•æ§˜

### ğŸµ éŸ³å£°å‡¦ç†ä»•æ§˜
- **ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆ**: 44.1kHz (CDå“è³ª)
- **ãƒ“ãƒƒãƒˆæ·±åº¦**: 16bit
- **ãƒãƒ£ãƒ³ãƒãƒ«**: ãƒ¢ãƒãƒ©ãƒ«
- **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: WAV (éåœ§ç¸®)
- **éŒ²éŸ³æ™‚é–“**: æœ€å¤§10ç§’

### ğŸ“Š åˆ†æã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°
- **çª“é–¢æ•°**: Hannçª“ (2048ã‚µãƒ³ãƒ—ãƒ«)
- **ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—**: 50%
- **FFTã‚µã‚¤ã‚º**: 2048ãƒã‚¤ãƒ³ãƒˆ
- **ãƒ¡ãƒ«ãƒ•ã‚£ãƒ«ã‚¿**: 128ãƒãƒ³ãƒ‰
- **F0æ¨å®š**: YIN ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

### ğŸ–¥ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: HTML5 + CSS3 + ES6 JavaScript
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Python 3.8+ Flask
- **éŸ³å£°å‡¦ç†**: librosa + scipy
- **ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–**: matplotlib
- **é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«**: HTTP/1.1 + WebSocket (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½)

### ğŸŒ ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§
| ãƒ–ãƒ©ã‚¦ã‚¶ | æœ€å°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | MediaRecorder API | WebAudio API |
|---------|---------------|---------------|------------------|--------------|
| Chrome  | 88+           | 120+          | âœ… å®Œå…¨å¯¾å¿œ      | âœ… å®Œå…¨å¯¾å¿œ  |
| Firefox | 85+           | 120+          | âœ… å®Œå…¨å¯¾å¿œ      | âœ… å®Œå…¨å¯¾å¿œ  |
| Safari  | 14+           | 17+           | âœ… å®Œå…¨å¯¾å¿œ      | âš ï¸ ä¸€éƒ¨åˆ¶é™  |
| Edge    | 88+           | 120+          | âœ… å®Œå…¨å¯¾å¿œ      | âœ… å®Œå…¨å¯¾å¿œ  |

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
voice_analysis/
â”œâ”€â”€ ğŸ“„ app.py                 # é–‹ç™ºç”¨Flaskã‚µãƒ¼ãƒãƒ¼ï¼ˆãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ä»˜ãï¼‰
â”œâ”€â”€ ğŸ“„ app_production.py      # æœ¬ç•ªç”¨Flaskã‚µãƒ¼ãƒãƒ¼ï¼ˆæœ€é©åŒ–æ¸ˆã¿ï¼‰
â”œâ”€â”€ ğŸŒ voice_recorder.html    # ãƒ¡ã‚¤ãƒ³Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ ğŸ“„ wsgi.py               # WSGI ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ ğŸ“‹ requirements.txt       # Pythonä¾å­˜é–¢ä¿‚ãƒªã‚¹ãƒˆ
â”œâ”€â”€ ğŸ“– README.md             # ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ ğŸ“– SETUP.md              # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ âš™ï¸ .htaccess             # Webã‚µãƒ¼ãƒãƒ¼è¨­å®š
â”œâ”€â”€ ğŸ™ˆ .gitignore            # Gitç„¡è¦–ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ ğŸµ test_audio.wav        # ãƒ†ã‚¹ãƒˆç”¨éŸ³å£°ã‚µãƒ³ãƒ—ãƒ«
```

### ğŸ“„ ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°

#### `app.py` (é–‹ç™ºç”¨)
- ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹
- è©³ç´°ãƒ­ã‚°å‡ºåŠ›
- ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- é–‹ç™ºè€…å‘ã‘ã‚¨ãƒ©ãƒ¼è¡¨ç¤º

#### `app_production.py` (æœ¬ç•ªç”¨)
- æœ€é©åŒ–æ¸ˆã¿å®Ÿè¡Œ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«åˆ¶å¾¡
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

#### `voice_recorder.html`
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–WebUI
- MediaRecorder APIå®Ÿè£…
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ğŸ” ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨å¯¾å‡¦æ³•

#### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£ã‚¨ãƒ©ãƒ¼

```bash
# ã‚¨ãƒ©ãƒ¼: ModuleNotFoundError: No module named 'librosa'
# åŸå› : librosaãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„
# å¯¾å‡¦æ³•:
pip install librosa

# ã‚¨ãƒ©ãƒ¼: Permission denied
# åŸå› : ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¨©é™ä¸è¶³
# å¯¾å‡¦æ³•:
pip install --user -r requirements.txt
# ã¾ãŸã¯
sudo pip install -r requirements.txt  # Linux/macOS
```

#### ğŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã‚¨ãƒ©ãƒ¼

```bash
# ã‚¨ãƒ©ãƒ¼: OSError: [Errno 48] Address already in use
# åŸå› : ãƒãƒ¼ãƒˆ8080ãŒæ—¢ã«ä½¿ç”¨ä¸­
# å¯¾å‡¦æ³•1: ä½¿ç”¨ä¸­ãƒ—ãƒ­ã‚»ã‚¹ã®ç¢ºèªã¨çµ‚äº†
lsof -i :8080                    # macOS/Linux
netstat -ano | findstr :8080     # Windows
kill -9 <PID>                    # ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†

# å¯¾å‡¦æ³•2: åˆ¥ãƒãƒ¼ãƒˆã§ã®èµ·å‹•
export PORT=8081
python3 app.py
```

#### ğŸ¤ éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ã‚¨ãƒ©ãƒ¼

```bash
# ã‚¨ãƒ©ãƒ¼: NotAllowedError: Permission denied
# åŸå› : ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãŒæ‹’å¦ã•ã‚ŒãŸ
# å¯¾å‡¦æ³•:
# 1. ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒã‚¤ã‚¯è¨­å®šã‚’ç¢ºèª
# 2. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®šã§ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯
# 3. HTTPSã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¤œè¨ï¼ˆä¸€éƒ¨ãƒ–ãƒ©ã‚¦ã‚¶ã§å¿…è¦ï¼‰
```

#### ğŸ“Š éŸ³å£°å‡¦ç†ã‚¨ãƒ©ãƒ¼

```python
# app.pyå†…ã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¾‹
def analyze_voice(audio_file_path):
    try:
        # ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
        if not os.path.exists(audio_file_path):
            raise FileNotFoundError(f"éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: {audio_file_path}")

        # ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç¢ºèª
        if os.path.getsize(audio_file_path) == 0:
            raise ValueError("éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒç©ºã§ã™")

        # éŸ³å£°èª­ã¿è¾¼ã¿ï¼ˆè¤‡æ•°å½¢å¼å¯¾å¿œï¼‰
        try:
            y, sr = librosa.load(audio_file_path, sr=None)
        except Exception as e:
            # ä»£æ›¿èª­ã¿è¾¼ã¿æ–¹æ³•
            y, sr = librosa.load(audio_file_path, sr=22050)

    except FileNotFoundError as e:
        return {"error": f"ãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼: {str(e)}"}
    except ValueError as e:
        return {"error": f"ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼: {str(e)}"}
    except Exception as e:
        return {"error": f"äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼: {str(e)}"}
```

### ğŸ©º ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```bash
# ç·åˆã‚·ã‚¹ãƒ†ãƒ ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
python3 -c "
import sys
import subprocess
import importlib

print('ğŸ” ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯é–‹å§‹...')
print(f'Python: {sys.version}')

# å¿…è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒã‚§ãƒƒã‚¯
required_libs = ['flask', 'librosa', 'matplotlib', 'numpy', 'scipy']
for lib in required_libs:
    try:
        mod = importlib.import_module(lib)
        print(f'âœ… {lib}: {getattr(mod, \"__version__\", \"OK\")}')
    except ImportError:
        print(f'âŒ {lib}: æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«')

print('ğŸ” ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å®Œäº†')
"
```

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ”§ ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### 1. **éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã‚¨ãƒ©ãƒ¼**

```bash
# ã‚¨ãƒ©ãƒ¼: LibsndfileError: Format not recognised / NoBackendError
# åŸå› : éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ãŒèªè­˜ã§ããªã„ã€ã¾ãŸã¯éŸ³å£°å‡¦ç†ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å•é¡Œ
# ç—‡çŠ¶: éŸ³å£°åˆ†ææ™‚ã«ã€ŒéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€ã‚¨ãƒ©ãƒ¼

# è§£æ±ºç­–1: éŸ³å£°å‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install soundfile
pip install audioread[ffmpeg]

# è§£æ±ºç­–2: FFmpegã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ï¼‰
# macOS:
brew install ffmpeg

# Ubuntu/Debian:
sudo apt update
sudo apt install ffmpeg

# Windows:
# https://ffmpeg.org/download.html ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

# è§£æ±ºç­–3: ä»£æ›¿éŸ³å£°ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install pydub[mp3]
pip install mutagen

# è§£æ±ºç­–4: ã™ã¹ã¦ã®éŸ³å£°é–¢é€£ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip uninstall librosa soundfile audioread
pip install librosa soundfile audioread[ffmpeg]
```

#### éŸ³å£°å½¢å¼å¯¾å¿œçŠ¶æ³
| å½¢å¼ | å¯¾å¿œçŠ¶æ³ | å¿…è¦ãªè¿½åŠ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
|------|----------|---------------------|
| WAV  | âœ… æ¨™æº–å¯¾å¿œ | ãªã— |
| MP3  | âš ï¸ è¦è¿½åŠ è¨­å®š | audioread[ffmpeg] |
| M4A  | âš ï¸ è¦è¿½åŠ è¨­å®š | audioread[ffmpeg] |
| FLAC | âš ï¸ è¦è¿½åŠ è¨­å®š | audioread[ffmpeg] |
| WebM | âŒ æœªå¯¾å¿œ | ãƒ–ãƒ©ã‚¦ã‚¶è¨­å®šå¤‰æ›´ãŒå¿…è¦ |

#### ãƒ–ãƒ©ã‚¦ã‚¶éŒ²éŸ³å½¢å¼ã®è¨­å®š
```javascript
// voice_recorder.htmlå†…ã§éŒ²éŸ³å½¢å¼ã‚’æ˜ç¤ºçš„ã«æŒ‡å®š
const mediaRecorder = new MediaRecorder(stream, {
    mimeType: 'audio/wav'  // WAVå½¢å¼ã‚’å¼·åˆ¶
});

// å¯¾å¿œå½¢å¼ã®ç¢ºèª
console.log('å¯¾å¿œå½¢å¼:', MediaRecorder.isTypeSupported('audio/wav'));
console.log('å¯¾å¿œå½¢å¼:', MediaRecorder.isTypeSupported('audio/webm'));
```

#### 2. **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é–¢é€£**

```bash
# å•é¡Œ: pip install ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
# è§£æ±ºç­–1: pipã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
pip install --upgrade pip

# è§£æ±ºç­–2: ä¾å­˜é–¢ä¿‚ã‚’å€‹åˆ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install wheel setuptools
pip install numpy  # ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚ˆã‚Šå…ˆã«numpyã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# è§£æ±ºç­–3: condaä½¿ç”¨ï¼ˆAnacondaç’°å¢ƒï¼‰
conda install flask librosa matplotlib numpy scipy
```

#### 2. **éŸ³å£°éŒ²éŸ³å•é¡Œ**

```javascript
// å•é¡Œ: ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãŒæ©Ÿèƒ½ã—ãªã„
// è§£æ±ºç­–: ãƒ–ãƒ©ã‚¦ã‚¶è¨­å®šç¢ºèª
// Chrome: chrome://settings/content/microphone
// Firefox: about:preferences#privacy

// HTTPSã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦ãªå ´åˆã®å¯¾å¿œ
// è‡ªå·±ç½²åè¨¼æ˜æ›¸ã§ã®èµ·å‹•
python3 -c "
import ssl
context = ssl.SSLContext(ssl.PROTOCOL_TLSv1_2)
context.load_cert_chain('cert.pem', 'key.pem')
app.run(host='0.0.0.0', port=8443, ssl_context=context)
"
```

#### 3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ**

```bash
# å•é¡Œ: åˆ†æå‡¦ç†ãŒé…ã„
# è§£æ±ºç­–1: Pythonæœ€é©åŒ–
python3 -O app.py  # æœ€é©åŒ–ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ

# è§£æ±ºç­–2: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç¢ºèª
python3 -c "
import psutil
import os
process = psutil.Process(os.getpid())
print(f'ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: {process.memory_info().rss / 1024 / 1024:.1f} MB')
"

# è§£æ±ºç­–3: librosaã®è¨­å®šèª¿æ•´
# app.pyå†…ã§ä»¥ä¸‹ã‚’è¿½åŠ :
# import librosa
# librosa.cache.clear()  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
```

#### 4. **ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§å•é¡Œ**

| å•é¡Œ | åŸå›  | è§£æ±ºç­– |
|------|------|--------|
| éŒ²éŸ³ãƒœã‚¿ãƒ³ãŒåå¿œã—ãªã„ | MediaRecorder APIæœªå¯¾å¿œ | Chrome 88+ã¾ãŸã¯Firefox 85+ã‚’ä½¿ç”¨ |
| éŸ³å£°ãŒå†ç”Ÿã•ã‚Œãªã„ | WebAudio APIåˆ¶é™ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³å¾Œã«å†ç”Ÿå®Ÿè¡Œ |
| æ³¢å½¢è¡¨ç¤ºãŒå´©ã‚Œã‚‹ | Canvas APIåˆ¶é™ | ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚¢ã‚¯ã‚»ãƒ©ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¢ºèª |

### ğŸ“Š ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

```bash
# è©³ç´°ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®æœ‰åŠ¹åŒ–
export FLASK_DEBUG=1
export FLASK_ENV=development
python3 app.py

# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«è¨­å®š
export LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR
python3 app.py
```

### ğŸ” ãƒ­ã‚°åˆ†æ

```bash
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç›£è¦–
tail -f server.log

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®æŠ½å‡º
grep -i error server.log

# ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®åˆ†æ
grep "POST /analyze" server.log | wc -l  # åˆ†æå®Ÿè¡Œå›æ•°
```

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ğŸš€ ã‚µãƒ¼ãƒãƒ¼æœ€é©åŒ–

```python
# app_production.py ã§ã®æœ€é©åŒ–è¨­å®š
app.config.update(
    SEND_FILE_MAX_AGE_DEFAULT=31536000,  # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥
    JSON_SORT_KEYS=False,                # JSONä¸¦ã³æ›¿ãˆç„¡åŠ¹åŒ–
    JSONIFY_PRETTYPRINT_REGULAR=False    # JSONæ•´å½¢ç„¡åŠ¹åŒ–
)

# éŸ³å£°å‡¦ç†ã®æœ€é©åŒ–
import librosa
librosa.set_cache_level(40)  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ãƒ™ãƒ«èª¿æ•´
```

### ğŸ’¾ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡æœ€é©åŒ–

```python
# å¤§ããªéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†æ™‚ã®ãƒ¡ãƒ¢ãƒªç®¡ç†
def analyze_voice_optimized(audio_file_path):
    try:
        # ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºæŒ‡å®šã§ã®èª­ã¿è¾¼ã¿
        y, sr = librosa.load(audio_file_path, sr=22050, duration=10.0)

        # ä¸è¦ãªå¤‰æ•°ã®æ˜ç¤ºçš„å‰Šé™¤
        del audio_file_path

        # ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
        import gc
        gc.collect()

    finally:
        # ãƒ¡ãƒ¢ãƒªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
        plt.close('all')
```

### ğŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æœ€é©åŒ–

```html
<!-- voice_recorder.html ã§ã®æœ€é©åŒ– -->
<script>
// éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®åœ§ç¸®é€ä¿¡
const compressAudio = (audioBlob) => {
    // å¿…è¦ã«å¿œã˜ã¦éŸ³å£°åœ§ç¸®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…
    return audioBlob;
};

// éåŒæœŸåˆ†æãƒªã‚¯ã‚¨ã‚¹ãƒˆ
const analyzeAudioAsync = async (audioBlob) => {
    const formData = new FormData();
    formData.append('audio', compressAudio(audioBlob));

    try {
        const response = await fetch('/analyze', {
            method: 'POST',
            body: formData
        });
        return await response.json();
    } catch (error) {
        console.error('åˆ†æã‚¨ãƒ©ãƒ¼:', error);
        throw error;
    }
};
</script>
```

## ğŸ‘¨â€ğŸ’» é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ğŸ”§ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚ã®è¿½åŠ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install pytest black flake8 mypy

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
black *.py                    # ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
flake8 *.py                   # ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°
mypy *.py                     # å‹ãƒã‚§ãƒƒã‚¯

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/                 # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```

### ğŸ§ª ãƒ†ã‚¹ãƒˆç”¨éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ

```python
# test_audio_generator.py
import numpy as np
import librosa
import soundfile as sf

def generate_test_audio():
    """ãƒ†ã‚¹ãƒˆç”¨éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ"""
    duration = 5.0  # ç§’
    sr = 44100

    # 440Hzæ­£å¼¦æ³¢ï¼ˆA4éŸ³ï¼‰
    t = np.linspace(0, duration, int(sr * duration))
    audio = 0.5 * np.sin(2 * np.pi * 440 * t)

    # ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
    sf.write('test_audio_generated.wav', audio, sr)
    print("ãƒ†ã‚¹ãƒˆéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ: test_audio_generated.wav")

if __name__ == "__main__":
    generate_test_audio()
```

### ğŸ“Š API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè©³ç´°

#### `POST /analyze`
```json
{
  "request": {
    "content-type": "multipart/form-data",
    "audio": "binary_audio_data"
  },
  "response": {
    "mel_spectrogram": "base64_image_data",
    "stft_spectrogram": "base64_image_data",
    "f0_plot": "base64_image_data",
    "waveform": "base64_image_data",
    "features": {
      "spectral_centroid": [æ•°å€¤é…åˆ—],
      "mfcc": [æ•°å€¤é…åˆ—],
      "zero_crossing_rate": [æ•°å€¤é…åˆ—],
      "spectral_rolloff": [æ•°å€¤é…åˆ—],
      "f0_mean": æ•°å€¤,
      "f0_std": æ•°å€¤
    },
    "metadata": {
      "duration": æ•°å€¤,
      "sample_rate": æ•°å€¤,
      "file_size": æ•°å€¤
    }
  }
}
```

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

```python
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–è¨­å®š
from flask import Flask
from flask_limiter import Limiter
from flask_limiter.util import get_remote_address

app = Flask(__name__)

# ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®š
limiter = Limiter(
    app,
    key_func=get_remote_address,
    default_limits=["200 per day", "50 per hour"]
)

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰åˆ¶é™
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MBåˆ¶é™

# ã‚»ã‚­ãƒ¥ã‚¢ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
@app.after_request
def set_security_headers(response):
    response.headers['X-Content-Type-Options'] = 'nosniff'
    response.headers['X-Frame-Options'] = 'DENY'
    response.headers['X-XSS-Protection'] = '1; mode=block'
    return response
```

### ğŸ“ˆ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨åˆ†æ

```python
# ã‚¢ã‚¯ã‚»ã‚¹çµ±è¨ˆã®å®Ÿè£…
import time
from collections import defaultdict

class AccessStats:
    def __init__(self):
        self.stats = defaultdict(int)
        self.start_time = time.time()

    def record_access(self, endpoint):
        self.stats[endpoint] += 1

    def get_stats(self):
        uptime = time.time() - self.start_time
        return {
            'uptime_hours': uptime / 3600,
            'total_requests': sum(self.stats.values()),
            'endpoints': dict(self.stats)
        }

# ä½¿ç”¨ä¾‹
stats = AccessStats()

@app.route('/stats')
def get_statistics():
    return jsonify(stats.get_stats())
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»é€£çµ¡å…ˆ

### ğŸ› ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ
- GitHubã§issueã‚’ä½œæˆã—ã¦ãã ã•ã„
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€å®Ÿè¡Œç’°å¢ƒã€å†ç¾æ‰‹é †ã‚’å«ã‚ã¦ãã ã•ã„

### ğŸ’¡ æ©Ÿèƒ½è¦æœ›
- GitHubã®Feature Requestãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

### ğŸ“š è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹
- [librosaå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://librosa.org/doc/latest/)
- [Flaskå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://flask.palletsprojects.com/)
- [Web Audio APIä»•æ§˜](https://www.w3.org/TR/webaudio/)

---

**ğŸ‰ Voice Analysis Systemã‚’ãŠä½¿ã„ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼**